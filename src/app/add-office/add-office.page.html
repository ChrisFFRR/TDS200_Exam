<ion-header translucent>
    <ion-toolbar>
        <ion-title text-center color="tertiary">
            Registrer kontor
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-item *ngIf="cameraPreview" lines="none" class="image-item">
        <img alt="uploaded office image" src="{{'data:image/jpeg;base64,' + cameraPreview}}" style="max-height: 70vh"/>
    </ion-item>
    <form [formGroup]="newOfficeForm" (submit)="submitForm()">
        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label position="floating">Navn p√• Kontor</ion-label>
                        <ion-input formControlName="name" clearInput="true" required></ion-input>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label position="floating">Antall plasser</ion-label>
                        <ion-input formControlName="_capacity" clearInput="true" required></ion-input>
                    </ion-item>
                </ion-col>
                <ion-col>
                    <ion-item>
                        <ion-label position="floating">Pris</ion-label>
                        <ion-input formControlName="price" clearInput="true" required></ion-input>
                    </ion-item>

                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size="9">
                    <ion-item>
                        <ion-label *ngIf="!gpsLocation " position="floating">Addresse</ion-label>
                        <ion-input *ngIf="!gpsLocation" formControlName="address" clearInput="true"></ion-input>
                        <ion-input *ngIf="gpsLocation" formControlName="address"></ion-input>
                        <ion-spinner class="spinner" slot="end" *ngIf="isLoading"></ion-spinner>

                    </ion-item>
                </ion-col>
                <ion-col align-self-center size="3">
                    <ion-button (click)="getGpsLoc()" size="small">
                        <ion-icon name="pin"></ion-icon>
                    </ion-button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label position="floating">Informasjon om kontoret</ion-label>
                        <ion-textarea formControlName="desc" clearOnEdit></ion-textarea>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>
                    <ion-button (click)="takePicture()" expand="block">Ta bilde</ion-button>
                </ion-col>
                <ion-col>
                    <ion-button [color]="!newOfficeForm.valid ? 'danger' : 'success' " type="submit"
                                [disabled]="!newOfficeForm.valid">Last Opp
                    </ion-button>
                </ion-col>
            </ion-row>

        </ion-grid>
    </form>

</ion-content>
